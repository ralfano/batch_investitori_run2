<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                                   "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
 <!--  TABELLA SOGGETTI-BOZZA -->
  <class name="it.ras.arco.bean.FinSoggettoBozza" table="FIN_SOGG_BOZZA" discriminator-value="null" lazy="true" where="GSTD_ESIST_B='S'" >
  <id name="soggBozzaId" column="SOGG_BOZZA_ID" type="integer">
   <generator class="sequence">
    <param name="sequence">FIN_SOGG_BOZZA_SEQ</param>
   </generator>
  </id>
 
  <property name="tipoOperazione" type="string" column="TIPO_OPERAZIONE_T" length="3"/>
  <property name="statoSoggettoBozza" type="string" column="STATO_SOGGETTO_BOZZA" length="3"/>
  
  <property name="flagModuloUnico" type="string" column="FLAG_MODULO_UNICO" length="1"/>
  <property name="flagSchedaCliente" type="string" column="FLAG_SCHEDA_CLIENTE" length="1"/>
  <property name="flagPrivacy" type="string" column="FLAG_PRIVACY" length="1"/>
  <property name="flagProfiloRischio" type="string" column="FLAG_PROF_RISCHIO" length="1"/>
  <property name="flagVariazioneAnagrafica" type="string" column="FLAG_VAR_ANAG" length="1"/>
  <property name="flagAnomalie" type="string" column="FLAG_ANOMALIE" length="1"/>
  
  <property name="variazioneModuloUnico" type="string" column="VAR_MODULO_B" length="1"/>
  <property name="variazioneSchedaCliente" type="string" column="VAR_SCHEDA_B" length="1"/>
  <property name="variazioneResidenza" type="string" column="VAR_RESIDENZA_B" length="1"/>
  <property name="variazioneRecapiti" type="string" column="VAR_RECAPITI_B" length="1"/>
  <property name="variazioneDocumento" type="string" column="VAR_DOCUMENTO_B" length="1"/>
  <property name="variazionePrivacy" type="string" column="VAR_PRIVACY_B" length="1"/>
  <property name="variazionePropRischio" type="string" column="VAR_PROP_RISCHIO_B" length="1"/>
  <property name="nuovoCensimento" type="string" column="NUOVO_CENSIMENTO_B" length="1"/>
  
  <property name="flagEsistenza" type="string" column="GSTD_ESIST_B" length="1"/>
  <property name="utenteInserimento" type="string" column="GSTD_USER_INS_S" length="20"/>
  <property name="tipoUltimaModifica" type="string" column="GSTD_TIPO_MOD_B" length="1"/>
  <property name="userUltimaModificaSlave" type="string" column="GSTD_ULT_USER_S" length="20" />
  <property name="proceduraUltimaModificaSlave" type="string" column="GSTD_ULT_PROC_S" length="20" />
  <property name="dataUltimaModificaSlave" type="timestamp" column="GSTD_ULT_MOD_D" />
  <property name="dataInserimento" type="timestamp" column="GSTD_INSE_D"/>
 
  
  

  <!-- RELAZIONE CON FIN_PRATICA_BOZZA-->
   	<set name="praticaBozza" inverse="true" cascade="save-update,lock" lazy="true" where="GSTD_ESIST_B='S'">
		<key column="SOGG_BOZZA_ID"/>
		<one-to-many class="it.ras.arco.bean.FinPraticaBozza"/>
	</set> 
	
 
 <!-- RELAZIONE CON FIN_SOGGETTO PER IL SOGGETTO NUOVO-->
	<many-to-one name="soggetto" class="it.ras.arco.bean.FinSoggetto" lazy="proxy" column="SOGGETTO_ID" not-found="ignore" cascade="save-update,lock" />

 <!-- RELAZIONE CON FIN_SOGGETTO PER IL SOGGETTO VECCHIO-->
	<many-to-one name="soggettoOriginale" class="it.ras.arco.bean.FinSoggetto" lazy="proxy" column="SOGGETTO_OLD_ID" not-found="ignore" cascade="save-update,lock" /> 
 
 <!-- RELAZIONE CON SEGNALAZIONI_CC_DT -->
  <set name="favoreDi" table="FIN_SEGNALAZIONI_CC_DT_TITOLI" cascade ="save-update,lock" inverse ="true">
    <key column="SOGG_BOZZA_ID"/>
    <one-to-many class="it.ras.arco.bean.FinSegnalazioniCCDTAdapterBase" not-found="ignore" />
  </set>
 
 </class>
</hibernate-mapping>
